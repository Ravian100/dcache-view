<link rel="import" href="../../../bower_components/polymer/polymer.html">

<link rel="import" href="../../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../../bower_components/iron-icon/iron-icon.html">

<link rel="import" href="../../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../../bower_components/paper-toolbar/paper-toolbar.html">

<link rel="import" href="user-login-page.html">

<dom-module id="switch-user-credential-dialog-box">
    <template>
        <style>
            :host{
                display: block;
                @apply(--layout-vertical);
                max-height: 225px;
                max-width: 320px;
                min-height: 225px;
                min-width: 320px;
            }
            .flex {
                @apply(--layout-flex);
                align-content: center;
            }
            .change {
                background-color: #3284e1;
                color: white !important;
            }

            paper-toolbar {
                margin-left: -25px !important;
                margin-right: -25px !important;
                margin-top: -25px !important;
            }
        </style>
        <div>
            <paper-toolbar>
                <div class="title">403 - Access Denied!</div>
                <paper-icon-button icon="close" dialog-dismiss=""></paper-icon-button>
            </paper-toolbar>
        </div>
        <br>
        <div class="flex">
            <div style="text-align: justify; padding-top:5px;">
                You do not have the necessary permission to proceed.
                To gain access to the requested file, you need to
                provide an authorized user credentials.
                <br>
                <br>
                Do you want to login as a different user?
            </div>
        </div>
        <br>
        <div class="buttons">
            <paper-button dialog-dismiss="">No</paper-button>
            <paper-button class="change" on-tap="showLoginPage" raised="">Yes</paper-button>
        </div>
    </template>
    <script>
        SwitchUserCredentialDialogBox = Polymer
        ({
            is: 'switch-user-credential-dialog-box',

            showLoginPage: function()
            {
                const path = app.$.homedir.querySelector('view-file').path;
                var content = app.$.homedir.querySelector('#content');
                content.innerHTML ="";
                var message = "Access Denied! Provide the User Name and Password with the right permission";
                var ulp = new UserLoginPage(message, path);
                content.appendChild(ulp);
                Polymer.dom.flush();
                this.updateStyles();
                app.$.centralDialogBox.close();
            }
        });
    </script>
</dom-module>